<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Социальные функции - Zone Control</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .chat-container {
            height: 300px;
            overflow-y: auto;
            background: #1f2937;
            border-radius: 8px;
            padding: 12px;
        }
        
        .chat-message {
            background: rgba(55, 65, 81, 0.5);
            border-radius: 8px;
            margin: 8px 0;
            padding: 8px 12px;
            animation: slideIn 0.3s ease;
        }
        
        .chat-message.own {
            background: rgba(59, 130, 246, 0.3);
            margin-left: 20%;
        }
        
        .chat-message.system {
            background: rgba(245, 158, 11, 0.3);
            font-style: italic;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .player-card {
            background: linear-gradient(135deg, #2d3748, #4a5568);
            border: 1px solid #718096;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .player-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .online-indicator {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }
        
        .offline-indicator {
            width: 8px;
            height: 8px;
            background: #6b7280;
            border-radius: 50%;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .trade-offer {
            background: linear-gradient(135deg, #374151, #4b5563);
            border: 1px solid #6b7280;
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
        }
        
        .faction-progress {
            background: #374151;
            border-radius: 10px;
            overflow: hidden;
            height: 20px;
        }
        
        .faction-progress-fill {
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            height: 100%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-900 text-gray-100 font-inter min-h-screen pb-20">
    <!-- Шапка -->
    <header class="bg-gray-800/90 backdrop-blur-sm border-b border-gray-700 px-4 py-3">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <button onclick="window.location.href='index.html'" class="text-gray-400 hover:text-white">
                    ← Назад
                </button>
                <h1 class="font-orbitron text-xl font-bold text-yellow-400">СОЦИАЛЬНЫЕ</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <div class="online-indicator"></div>
                    <span class="text-sm">247 онлайн</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Основной контент -->
    <main class="p-4 space-y-6">
        <!-- Чат фракции -->
        <div class="bg-gray-800/90 backdrop-blur-sm rounded-lg p-4">
            <div class="flex items-center justify-between mb-4">
                <h2 class="font-orbitron text-lg font-bold">Чат фракции</h2>
                <div class="flex items-center space-x-2">
                    <button id="chat-seekers" class="px-3 py-1 bg-blue-600 rounded text-xs">Искатели</button>
                    <button id="chat-local" class="px-3 py-1 bg-gray-600 rounded text-xs">Локальный</button>
                </div>
            </div>
            
            <div class="chat-container" id="chat-messages">
                <div class="chat-message system">
                    <div class="text-xs text-yellow-400 mb-1">Система</div>
                    <div class="text-sm">Добро пожаловать в чат Искателей! Будьте вежливы и помогайте товарищам.</div>
                </div>
                <div class="chat-message">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="text-blue-400 font-semibold text-sm">Stalker_2024</span>
                        <span class="text-xs text-gray-400">12:34</span>
                    </div>
                    <div class="text-sm">Кто идет на рейд в 15:00? Нужен отряд для захвата гекса (3,4)</div>
                </div>
                <div class="chat-message">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="text-green-400 font-semibold text-sm">Scientist</span>
                        <span class="text-xs text-gray-400">12:35</span>
                    </div>
                    <div class="text-sm">Я с вами! У меня есть артефакт для бафа</div>
                </div>
                <div class="chat-message own">
                    <div class="flex items-center space-x-2 mb-1">
                        <span class="text-purple-400 font-semibold text-sm">Вы</span>
                        <span class="text-xs text-gray-400">12:36</span>
                    </div>
                    <div class="text-sm">Готов помочь, но мне нужно сначала закончить задание</div>
                </div>
            </div>
            
            <div class="flex space-x-2 mt-4">
                <input type="text" id="chat-input" placeholder="Введите сообщение..." 
                       class="flex-1 bg-gray-700 border border-gray-600 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-400">
                <button onclick="sendMessage()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm font-semibold">
                    Отправить
                </button>
            </div>
        </div>

        <!-- Участники фракции -->
        <div class="bg-gray-800/90 backdrop-blur-sm rounded-lg p-4">
            <h2 class="font-orbitron text-lg font-bold mb-4">Участники фракции</h2>
            <div class="space-y-3" id="faction-members">
                <!-- Участники будут генерироваться JavaScript -->
            </div>
        </div>

        <!-- Торговля -->
        <div class="bg-gray-800/90 backdrop-blur-sm rounded-lg p-4">
            <h2 class="font-orbitron text-lg font-bold mb-4">Торговля</h2>
            
            <!-- Активные торговые предложения -->
            <div class="space-y-3 mb-4" id="trade-offers">
                <div class="trade-offer">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2">
                            <div class="online-indicator"></div>
                            <span class="font-semibold text-sm">Stalker_2024</span>
                        </div>
                        <span class="text-xs text-gray-400">2 мин назад</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="text-sm">
                            <span class="text-red-400">Продает:</span> Артефакт "Кровавый камень"
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-yellow-400 font-mono text-sm">₽500</span>
                            <button class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-xs font-semibold">
                                Купить
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="trade-offer">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2">
                            <div class="online-indicator"></div>
                            <span class="font-semibold text-sm">Scientist</span>
                        </div>
                        <span class="text-xs text-gray-400">5 мин назад</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="text-sm">
                            <span class="text-blue-400">Покупает:</span> Батарейки (x20)
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-yellow-400 font-mono text-sm">₽200</span>
                            <button class="bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-xs font-semibold">
                                Продать
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Создание своего предложения -->
            <button onclick="createTradeOffer()" class="w-full bg-yellow-600 hover:bg-yellow-700 py-2 rounded text-sm font-semibold">
                Создать торговое предложение
            </button>
        </div>

        <!-- Цели фракции -->
        <div class="bg-gray-800/90 backdrop-blur-sm rounded-lg p-4">
            <h2 class="font-orbitron text-lg font-bold mb-4">Цели фракции</h2>
            
            <div class="space-y-4">
                <div>
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-semibold text-sm">Захват территорий</span>
                        <span class="text-xs text-gray-400">7/10 гексов</span>
                    </div>
                    <div class="faction-progress">
                        <div class="faction-progress-fill" style="width: 70%">70%</div>
                    </div>
                    <div class="text-xs text-gray-400 mt-1">
                        Награда: +100 репутации всем участникам
                    </div>
                </div>
                
                <div>
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-semibold text-sm">Сбор ресурсов</span>
                        <span class="text-xs text-gray-400">145/200 единиц</span>
                    </div>
                    <div class="faction-progress">
                        <div class="faction-progress-fill" style="width: 72.5%">72.5%</div>
                    </div>
                    <div class="text-xs text-gray-400 mt-1">
                        Награда: Общий бафф +10% к доходу
                    </div>
                </div>
                
                <div>
                    <div class="flex items-center justify-between mb-2">
                        <span class="font-semibold text-sm">Уничтожение мутантов</span>
                        <span class="text-xs text-gray-400">89/100 мутантов</span>
                    </div>
                    <div class="faction-progress">
                        <div class="faction-progress-fill" style="width: 89%">89%</div>
                    </div>
                    <div class="text-xs text-gray-400 mt-1">
                        Награда: Редкие артефакты для активных участников
                    </div>
                </div>
            </div>
        </div>

        <!-- Рейтинг игроков -->
        <div class="bg-gray-800/90 backdrop-blur-sm rounded-lg p-4">
            <h2 class="font-orbitron text-lg font-bold mb-4">Рейтинг за неделю</h2>
            <div class="space-y-3">
                <div class="flex items-center justify-between p-2 bg-gradient-to-r from-yellow-600/20 to-transparent rounded">
                    <div class="flex items-center space-x-3">
                        <span class="font-bold text-yellow-400">1</span>
                        <div>
                            <div class="font-semibold text-sm">ZoneMaster</div>
                            <div class="text-xs text-gray-400">Искатели</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-sm">2,847 очков</div>
                        <div class="text-xs text-gray-400">+15% к награде</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-2 bg-gradient-to-r from-gray-400/20 to-transparent rounded">
                    <div class="flex items-center space-x-3">
                        <span class="font-bold text-gray-400">2</span>
                        <div>
                            <div class="font-semibold text-sm">Stalker_2024</div>
                            <div class="text-xs text-gray-400">Искатели</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-sm">2,156 очков</div>
                        <div class="text-xs text-gray-400">+10% к награде</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-2 bg-gradient-to-r from-orange-600/20 to-transparent rounded">
                    <div class="flex items-center space-x-3">
                        <span class="font-bold text-orange-400">3</span>
                        <div>
                            <div class="font-semibold text-sm">Scientist</div>
                            <div class="text-xs text-gray-400">Искатели</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-sm">1,923 очков</div>
                        <div class="text-xs text-gray-400">+5% к награде</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-2 bg-gradient-to-r from-blue-600/20 to-transparent rounded">
                    <div class="flex items-center space-x-3">
                        <span class="font-bold text-blue-400">8</span>
                        <div>
                            <div class="font-semibold text-sm">Вы</div>
                            <div class="text-xs text-gray-400">Искатели</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-sm">1,247 очков</div>
                        <div class="text-xs text-gray-400">Участвуете</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Нижняя навигация -->
    <nav class="fixed bottom-0 left-0 right-0 bg-gray-800/95 backdrop-blur-sm border-t border-gray-700 px-4 py-2 z-50">
        <div class="flex items-center justify-around">
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='index.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Карта</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='faction.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Фракция</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='inventory.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Инвентарь</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-blue-400">
                <div class="w-6 h-6 bg-blue-600 rounded"></div>
                <span class="text-xs">Социальные</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='arena.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Арена</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='quests.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Квесты</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='clan.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Кланы</span>
            </button>
            <button class="flex flex-col items-center space-y-1 text-gray-400" onclick="window.location.href='casino.html'">
                <div class="w-6 h-6 bg-gray-600 rounded"></div>
                <span class="text-xs">Казино</span>
            </button>
        </div>
    </nav>

    <script>
        // Генерация участников фракции
        function generateFactionMembers() {
            const membersContainer = document.getElementById('faction-members');
            const members = [
                { name: 'ZoneMaster', level: 12, status: 'online', role: 'Лидер' },
                { name: 'Stalker_2024', level: 8, status: 'online', role: 'Ветеран' },
                { name: 'Scientist', level: 9, status: 'online', role: 'Исследователь' },
                { name: 'Hunter', level: 6, status: 'offline', role: 'Охотник' },
                { name: 'Explorer', level: 7, status: 'online', role: 'Скаут' },
                { name: 'Guardian', level: 5, status: 'offline', role: 'Защитник' }
            ];
            
            members.forEach(member => {
                const memberElement = document.createElement('div');
                memberElement.className = 'player-card p-3 flex items-center justify-between';
                memberElement.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <div class="${member.status === 'online' ? 'online-indicator' : 'offline-indicator'}"></div>
                        <div>
                            <div class="font-semibold text-sm">${member.name}</div>
                            <div class="text-xs text-gray-400">Уровень ${member.level} • ${member.role}</div>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="inviteToGroup('${member.name}')" class="bg-blue-600 hover:bg-blue-700 px-2 py-1 rounded text-xs">
                            Пригласить
                        </button>
                        <button onclick="sendMessage('${member.name}')" class="bg-gray-600 hover:bg-gray-700 px-2 py-1 rounded text-xs">
                            ЛС
                        </button>
                    </div>
                `;
                membersContainer.appendChild(memberElement);
            });
        }
        
        // Отправка сообщения в чат
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (!message) return;
            
            const chatMessages = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.className = 'chat-message own';
            
            const now = new Date();
            const time = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            messageElement.innerHTML = `
                <div class="flex items-center space-x-2 mb-1">
                    <span class="text-purple-400 font-semibold text-sm">Вы</span>
                    <span class="text-xs text-gray-400">${time}</span>
                </div>
                <div class="text-sm">${message}</div>
            `;
            
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            input.value = '';
        }
        
        // Приглашение в группу
        function inviteToGroup(playerName) {
            alert(`Приглашение отправлено игроку ${playerName}`);
        }
        
        // Отправка личного сообщения
        function sendMessage(playerName) {
            const message = prompt(`Введите сообщение для ${playerName}:`);
            if (message) {
                alert(`Сообщение отправлено ${playerName}: ${message}`);
            }
        }
        
        // Создание торгового предложения
        function createTradeOffer() {
            const item = prompt('Что вы хотите продать/купить?');
            const price = prompt('Укажите цену:');
            
            if (item && price) {
                alert(`Торговое предложение создано: ${item} за ₽${price}`);
            }
        }
        
        // Инициализация
        document.addEventListener('DOMContentLoaded', function() {
            generateFactionMembers();
            
            // Обработка Enter в чате
            document.getElementById('chat-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // Симуляция новых сообщений
            setInterval(() => {
                if (Math.random() < 0.3) {
                    const messages = [
                        'Кто хочет пойти на охоту за артефактами?',
                        'Нужен отряд для атаки гекса (4,2)',
                        'Продаю редкий артефакт, писать в ЛС',
                        'Кто может помочь с заданием?',
                        'Внимание! Вражеский отряд в районе (2,3)'
                    ];
                    
                    const chatMessages = document.getElementById('chat-messages');
                    const messageElement = document.createElement('div');
                    messageElement.className = 'chat-message';
                    
                    const now = new Date();
                    const time = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
                    
                    messageElement.innerHTML = `
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="text-green-400 font-semibold text-sm">Игрок_${Math.floor(Math.random() * 1000)}</span>
                            <span class="text-xs text-gray-400">${time}</span>
                        </div>
                        <div class="text-sm">${messages[Math.floor(Math.random() * messages.length)]}</div>
                    `;
                    
                    chatMessages.appendChild(messageElement);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }
            }, 15000);
        });
    </script>
</body>
</html>